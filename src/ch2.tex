\chapter{Basic Topology}

\Exercise1 Prove that the empty set is a subset of every set.
\begin{proof}
  Let $A$ be any set. Since the empty set has no elements, it is
  vacuously true that for every $x$ in the empty set, $x\in A$.
\end{proof}

\Exercise2 A complex number $z$ is said to be {\em algebraic} if there
are integers $a_0,\dots,a_n$, not all zero, such that
\begin{equation}
  \label{eq:complex-polynomial}
  a_0z^n + a_1z^{n-1} + \cdots + a_{n-1}z + a_n = 0.
\end{equation}
Prove that the set of all algebraic numbers is countable.
\begin{proof}
  For each positive integer $N$, let $E_N$ denote the set of all
  algebraic numbers $z$ satisfying \eqref{eq:complex-polynomial} where
  \begin{equation*}
    n + \abs{a_0} + \abs{a_1} + \cdots + \abs{a_n} = N.
  \end{equation*}
  Since all the terms on the left-hand side are positive integers, it
  follows that for each $N$ there are only finitely many such
  polynomial equations.  And for any fixed $n\leq N$, any polynomial
  of degree $n$ has a finite number of roots. Hence the set $E_N$ is
  finite.

  If $A$ denotes the set of all algebraic numbers, then we have
  \begin{equation*}
    A = \bigcup_{N=1}^\infty E_N.
  \end{equation*}
  Being the union of countably many finite sets, $A$ must be at most
  countable by the corollary to Theorem~2.12. And since $A$ must be
  infinite (for example, $Z$ is a subset) this shows that $A$ is
  countable.
\end{proof}

\Exercise3 Prove that there exist real numbers which are not
algebraic.
\begin{proof}
  By the previous exercise, we know that the set $A$ of algebraic
  numbers is countable. If $A = R$, then $R$ is countable, so $A$ must
  be a proper subset of $R$. Thus we can find an $x\in R$ with
  $x\not\in A$.
\end{proof}

\Exercise4 Is the set of all irrational real numbers countable?
\begin{solution}
  Suppose that the irrationals $R-Q$ are countable. Since
  \begin{equation*}
    R = Q\cup(R-Q),
  \end{equation*}
  this means that $R$ is the union of countable sets and is therefore
  countable by Theorem~2.12. This contradiction shows that $R-Q$ is
  uncountable.
\end{solution}

\Exercise5 Construct a bounded set of real numbers with exactly three
limit points.
\begin{solution}
  For each integer $m$, consider the set
  \begin{equation*}
    E_m = \left\{ m + \frac1{n+1}
      \;\middle|\;
      n\in Z^+ \right\},
  \end{equation*}
  where $Z^+$ denotes the positive integers. Then the set
  $A = E_0\cup E_1\cup E_2$ has exactly three limit points, namely the
  points $0$, $1$, and $2$, which we will now demonstrate. First note
  that any neighborhood of $0$ must contain points in $E_0$, and
  similarly for $1$ and $2$, so that $0,1,2\in A'$.

  On the other hand, suppose $x\in R-\{0,1,2\}$. Let
  \begin{equation*}
    r = \min\{\abs{x}, \abs{1 - x}, \abs{2 - x}, \abs{3 - x}\}.
  \end{equation*}
  Then the interval $(x - r/2, x + r/2)$ contains finitely many points
  in $A$. So by Theorem~2.20, it follows that $x$ is not a limit point
  of $A$.

  Therefore, the only limit points of $A$ are $0$, $1$, and $2$.
\end{solution}

\Exercise6 Let $E'$ be the set of all limit points of a set $E$. Prove
that $E'$ is closed. Prove that $E$ and $\overline{E}$ have the same limit
points. Do $E$ and $E'$ always have the same limit points?
\begin{proof}
  First we will show that any limit point of $\overline{E}$ is also a
  limit point of $E$. Let $x$ be a limit point of $\overline{E}$ and
  let $r$ be any positive real number.

  We want to show that the neighborhood $N_r(x)$ must contain a point
  in $E$ distinct from $x$. But we know that $N_r(x)$ contains a point
  $y\in\overline{E}$ with $y\neq x$. So $y\in E$ or $y\in E'$. If
  $y\in E$ then we are done, so suppose $y\in E'$ but $y\not\in
  E$. Then $y$ is a limit point of $E$, so every neighborhood of $y$
  must contain a point in $E$. In particular, let
  \begin{equation*}
    s = \frac{r - d(x,y)}2,
  \end{equation*}
  and choose $z\in N_s(y)$ such that $z\in E$. Then since
  $N_s(y)\subset N_r(x)$, we have $z\in N_r(x)$ and $z\in E$. And
  $z\neq x$ since $x\not\in N_s(y)$. So $x$ is a limit point of $E$.

  Now we show the converse. Let $x$ be a limit point of $E$. Then
  every neighborhood of $x$ contains a point in $E$ distinct from $x$,
  but this point must also be in $\overline{E} = E\cup E'$. Therefore
  $x$ is a limit point of $\overline{E}$.

  We have shown that $E$ and $\overline{E}$ have exactly the same set
  of limit points. That is, $E' = (\overline{E})'$.

  Next, to show that $E'$ is closed, let $x$ be a limit point of
  $E'$. Then $x\in\overline{E}$. But $\overline{E}$ is closed by
  Theorem~2.27, so $\overline{E} = (\overline{E})'$. Therefore
  $x\in(\overline{E})' = E'$. Thus every limit point of $E'$ is in
  $E'$, so the set $E'$ is closed.

  Lastly, it is not the case that $E$ and $E'$ must have the same
  limit points. For example, take $E = \{ 1/n \mid n\in Z^+ \}$, where
  $Z^+$ denotes the positive integers. Then $E' = \{0\}$ but $(E')'$
  is the empty set.
\end{proof}

\Exercise7 Let $A_1,A_2,A_3,\dots$ be subsets of a metric space.
\begin{enumerate}
\item If $B_n = \bigcup_{i=1}^n A_i$, prove that
  $\overline{B_n} = \bigcup_{i=1}^n \overline{A_i}$, for
  $n = 1,2,3,\dots$.
\item If $B = \bigcup_{i=1}^\infty A_i$, prove that
  $\overline{B}\supset\bigcup_{i=1}^\infty\overline{A_i}$.
\end{enumerate}
Show, by an example, that this inclusion can be proper.
\begin{solution}
  \begin{enumerate}
  \item Let $B_n$ be as stated, and suppose $x\in\overline{B_n}$. Then
    either $x\in B_n$ or $x\in B_n'$. First, if $x\in B_n$, then
    $x\in A_i$ for some index $i$ and we have $x\in\overline{A_i}$ so
    that $x\in\bigcup_i\overline{A_i}$. Now suppose instead that
    $x\in B_n'$. We want to show that $x\in\overline{A_i}$ for some
    $i$. Let $N_r(x)$ be any neighborhood of $x$, and choose a point
    $y\neq x$ in this neighborhood such that $y\in B_n$ (this is
    possible since $x$ is a limit point of $B_n$). Then $y\in A_i$ for
    some index $i$, and such a $y$ can be found for any neighborhood
    of $x$, so $x$ is a limit point of $A_i$. That is,
    $x\in\overline{A_i}$. This shows that
    \begin{equation}
      \label{eq:closure-subset-union}
      \overline{B_n}\subset\bigcup_{i=1}^n\overline{A_i}.
    \end{equation}

    Next, suppose $x\in\bigcup_i\overline{A_i}$, so that
    $x\in\overline{A_i}$ for some index $i$. Then $x\in A_i$ or
    $x\in A_i'$. If $x\in A_i$ then $x\in\overline{B_n}$ and we are
    done. So suppose $x\in A_i'$. Let $N_r(x)$ be any neighborhood of
    $x$, and choose $y\neq x$ such that $y\in N_r(x)\cap A_i$. Then
    $y\in B_n$, which proves that $x\in\overline{B_n}$. This shows that
    \begin{equation}
      \label{eq:closure-supset-union}
      \overline{B_n}\supset\bigcup_{i=1}^n\overline{A_i}.
    \end{equation}
    Together, \eqref{eq:closure-subset-union} and
    \eqref{eq:closure-supset-union} show that
    $\overline{B_n} = \bigcup_i\overline{A_i}$. \qedhere

  \item Suppose $x\in\bigcup_i\overline{A_i}$. Then there is a
    positive integer $i$ such that $x\in\overline{A_i}$. This implies
    that $x\in A_i$ or $x\in A_i'$. If $x\in A_i$, then $x\in B$ so
    certainly $x\in\overline{B}$. On the other hand, if $x\in A_i'$,
    then for any neighborhood $N_r(x)$, we may find $y\neq x$ in this
    neighborhood such that $y\in A_i$. Then $y\in B$, which proves
    that $x$ is a limit of point of $B$. So in either case,
    $x\in\overline{B}$, and the inclusion
    $\overline{B}\supset\bigcup_i\overline{A_i}$ is proved.

    Lastly, we show that this inclusion can be proper. For each
    positive integer $i$, let $A_i = \{1 / i\}$. That is, let each
    $A_i$ contain only one point, namely the reciprocal of the
    index. Then each $\overline{A_i}$ also consists of only this one
    point, so $\bigcup_{i=1}^\infty\overline{A_i}$ is the set
    $\{1/i \mid i\in Z^+\}$. However, $\overline{B}$ contains the
    point $0$, which is not in $\bigcup\overline{A_i}$. \qed
  \end{enumerate}
\end{solution}

\Exercise8 Is every point of every open set $E\subset R^2$ a limit
point of $E$? Answer the same question for closed sets in $R^2$.
\begin{solution}
  We will show that every point of every open set $E$ in $R^2$ is a
  limit point of $E$. Let $\vec{x}\in E$. Since $E$ is open, $\vec{x}$
  is an interior point, and we can find a neighborhood
  $N_r(\vec{x})\subset E$. Since $E\subset R^2$, there are infinitely
  many points in $N_r(\vec{x})$ distinct from $\vec{x}$, and this is
  still true if we use a smaller positive value for $r$. Therefore
  every neighborhood of $\vec{x}$ contains a point in $E$ distinct
  from $\vec{x}$. This means that $\vec{x}$ is a limit point of
  $E$. It follows that every point in $E$ is a limit point of $E$.

  The same is not true for closed sets in $R^2$. For example, the set
  \begin{equation*}
    E = \{(0,0)\}\cup\{(1/n,0)\in R^2\mid n\in Z^+\}
  \end{equation*}
  contains its only limit point $(0,0)$ and is thus closed. However,
  $(1, 0)\in E$ but $(1,0)\not\in E'$.
\end{solution}

\Exercise9 Let $E^\circ$ denote the set of all interior points of a
set $E$.
\begin{enumerate}
\item Prove that $E^\circ$ is always open.
  \begin{proof}
    Let $x\in E^\circ$. Then $x$ is an interior point of $E$, and we
    can find a neighborhood $N_r(x)\subset E$. Let $y$ be any point in
    $N_r(x)$ and let
    \begin{equation*}
      s = \frac{r - d(x,y)}2.
    \end{equation*}
    Then $N_s(y)\subset N_r(x)\subset E$, so $y$ is itself an interior
    point of $E$. This shows that $N_r(x)\subset E^\circ$, so $x$ is
    an interior point of $E^\circ$. And $x$ was chosen to be
    arbitrary, so this shows that every point in $E^\circ$ is an
    interior point, hence $E^\circ$ is open.
  \end{proof}
\item Prove that $E$ is open if and only if $E^\circ = E$.
  \begin{proof}
    If $E^\circ = E$ then every point of $E$ is an interior point, and
    $E$ is open by definition. The converse also follows directly from
    the definitions: if $E$ is open then $E\subset E^\circ$; moreover,
    every interior point of $E$ must be in $E$, so $E^\circ\subset E$
    and therefore $E=E^\circ$.
  \end{proof}
\item If $G\subset E$ and $G$ is open, prove that $G\subset E^\circ$.
  \begin{proof}
    Let $x\in G$ be arbitrary. Since $G$ is open, we can find a
    neighborhood $N_r(x)\subset G$. But $G\subset E$ so
    $N_r(x)\subset E$. This shows that $x\in E^\circ$ so that
    $G\subset E^\circ$.
  \end{proof}
\item Prove that the complement of $E^\circ$ is the closure of the
  complement of $E$.
  \begin{proof}
    First, suppose $x\not\in E^\circ$. Then every neighborhood of $x$
    must contain a point that is not in $E$. This means that $x$ is a
    limit point of $E^c$ so by definition $x$ is in the closure of
    $E^c$. This shows that $(E^\circ)^c \subset \overline{E^c}$.

    Next, suppose $x$ is in the closure of $E^c$. Then either $x$ is
    in $E^c$ or $x$ is a limit point of $E^c$. In the first case, $x$
    cannot be an interior point of $E$ since $x\not\in E$. In the
    second case, every neighborhood of $x$ contains a point in $E^c$,
    so $x$ is not an interior point of $E$. This shows that
    $x\not\in E^\circ$ so that $\overline{E^c} \subset
    (E^\circ)^c$. This completes the proof that
    $(E^\circ)^c = \overline{E^c}$.
  \end{proof}
\item Do $E$ and $\overline{E}$ always have the same interiors?
  \begin{solution}
    No, $E$ and $\overline{E}$ need not have the same interiors. As a
    counterexample, consider the nonzero real numbers $E = R -
    \{0\}$. Clearly $0$ is not an interior point of $E$, yet it is an
    interior point of $\overline{E} = R$.
  \end{solution}
\item Do $E$ and $E^\circ$ always have the same closures?
  \begin{solution}
    No, for example in $R^1$ if $E = \{0\}$ then $0\in\overline{E}$,
    however $E^\circ$ is the empty set and so is its closure.
  \end{solution}
\end{enumerate}

\Exercise{10} Let $X$ be an infinite set. For $p\in X$ and $q\in X$,
define
\begin{equation*}
  d(p,q) =
  \begin{cases}
    1 & \text{(if $p\neq q$)} \\
    0 & \text{(if $p = q$)}.
  \end{cases}
\end{equation*}
Prove that this is a metric. Which subsets of the resulting metric
space are open? Which are closed? Which are compact?
\begin{solution}
  If $p\neq q$ then $d(p,q) = 1 > 0$, and $d(p,p) = 0$. It is also
  clear that $d(p,q) = d(q,p)$. It remains to be shown that
  \begin{equation}
    \label{eq:metric-triangle-ineq}
    d(p,q)\leq d(p,r)+d(r,q)
  \end{equation}
  for any $r\in X$. If $p = q$ then the result is obvious, so suppose
  $p\neq q$. Then the right-hand side of the inequality
  \eqref{eq:metric-triangle-ineq} is at least $1$, and the left-hand
  side is exactly $1$. This shows that $d$ is a metric.

  Every subset of $X$ is open, since every point $p$ in a set
  $E\subset X$ is an interior point (choose $r = 1/2$ to get a
  neighborhood contained in $E$).

  Every subset of $X$ is also closed, since any such set has no limit
  points, so it is vacuously true that every limit point of $E$ is in
  $E$.

  Finally, every finite subset of $X$ is clearly compact. But every
  infinite subset is not compact, as we will now show. Let $E$ be an
  infinite subset of $X$. For each $x\in E$, define $G_x =
  \{x\}$. Then each $G_x$ is open and $E\subset\bigcup_{x\in E} G_x$
  so $\{G_x\}$ is an open cover of $E$, but it does not have a finite
  subcover.
\end{solution}

\Exercise{11} For $x\in R^1$ and $y\in R^1$, define
\begin{align*}
  d_1(x,y) &= (x - y)^2, \\
  d_2(x,y) &= \sqrt{\abs{x - y}}, \\
  d_3(x,y) &= \abs{x^2 - y^2}, \\
  d_4(x,y) &= \abs{x - 2y}, \\
  d_5(x,y) &= \frac{\abs{x - y}}{1 + \abs{x - y}}.
\end{align*}
Determine, for each of these, whether it is a metric or not.
\begin{solution}
  \begin{enumerate}
  \item For $d_1(x,y) = (x - y)^2$, the first two parts of the
    definition are satisfied. However,
    $d_1(1,3) = 4 \not\leq 2 = d(1,2) + d(2,3)$. So $d_1$ is not a
    metric.
  \item For $d_2(x,y) = \sqrt{\abs{x-y}}$, we clearly have
    $d(x,y) > 0$ for $x\neq y$, $d(x,x) = 0$, and $d(x,y) =
    d(y,x)$. Now, by the triangle inequality, we have for any
    $z\in R^1$,
    \begin{align*}
      d(x,y)^2 &= \abs{x - y} \\
               &= \abs{x - z + z - y} \\
               &\leq \abs{x - z} + \abs{z - y} \\
               &= d(x,z)^2 + d(z,y)^2 \\
               &\leq d(x,z)^2 + 2d(x,z)d(z,y) + d(z,y)^2 \\
               &= (d(x,z) + d(z,y))^2,
    \end{align*}
    and by taking square roots we have $d(x,y) \leq d(x,z) +
    d(z,y)$. Therefore $d_2$ is a metric.
  \item For $d_3(x,y) = \abs{x^2 - y^2}$ we have $d_3(-1,1) = 0$, so
    $d_3$ is not a metric.
  \item For $d_4(x,y) = \abs{x - 2y}$, we have
    $d(0,1) = 2\neq1 = d(1,0)$ so $d_4$ is not a metric.
  \item For $d_5(x,y) = \abs{x-y} / (1 + \abs{x - y})$, it is clear
    that $d(x,y) > 0$ for $x\neq y$, $d(x,x) = 0$, and
    $d(x,y) = d(y,x)$. It remains to be shown that
    $d(x,y) \leq d(x,z) + d(z,y)$ for all $x\in R^1$. That is, we need
    to show that
    \begin{equation}
      \label{eq:quotient-metric-triangle-ineq}
      \frac{\abs{x - y}}{1 + \abs{x - y}}
      \leq \frac{\abs{x - z}}{1 + \abs{x - z}}
      + \frac{\abs{z - y}}{1 + \abs{z - y}}.
    \end{equation}
    Put $a = \abs{x - y}$, $b = \abs{x - z}$, and $c = \abs{z -
      y}$. Then \eqref{eq:quotient-metric-triangle-ineq} becomes
    \begin{equation*}
      \frac{a}{1 + a} \leq \frac{b}{1 + b} + \frac{c}{1 + c}.
    \end{equation*}
    Multiplying through by the product of the denominators, we get
    \begin{equation*}
      a(1 + b)(1 + c) \leq b(1 + a)(1 + c) + c(1 + a)(1 + b).
    \end{equation*}
    Expanding then gives
    \begin{equation*}
      a + ab + ac + abc \leq b + c + ab + ac + 2bc + 2abc
    \end{equation*}
    which reduces to $a \leq b + c + 2bc + abc$, which follows from
    the triangle inequality after back-substituting for $a$, $b$, and
    $c$. So \eqref{eq:quotient-metric-triangle-ineq} holds and $d_5$
    is a metric. \qedhere
  \end{enumerate}
\end{solution}

\Exercise{12} Let $K\subset R^1$ consist of $0$ and the numbers $1/n$,
for $n = 1,2,3,\dots$. Prove that $K$ is compact directly from the
definition (without using the Heine--Borel theorem).
\begin{proof}
  Let $\{G_\alpha\}$ be any open cover of $K$. Then there is an index
  $\alpha_1$ such that $0\in G_{\alpha_1}$. Then since $G_{\alpha_1}$
  is open, $0$ is an interior point so that there is a segment $(a,b)$
  containing $0$ that lies within $G_{\alpha_1}$. But there are at
  most only finitely many values in $K$ which do not belong to this
  segment ($1/n\geq b$ for only finitely many choices of $n$). Label
  these values $r_2,r_3,r_4\dots, r_k$. Then $r_i\in G_{\alpha_i}$ for
  some index $\alpha_i$ ($i=2,3,\dots,k$). Now it is clear that
  \begin{equation*}
    K\subset\bigcup_{i=1}^n G_{\alpha_i}
  \end{equation*}
  so $\{G_{\alpha_i}\}$ is a finite subcover and $K$ is compact.
\end{proof}

\Exercise{13} Construct a compact set of real numbers whose limit
points form a countable set.
\begin{solution}
  For each positive integer $k$, set
  \begin{equation*}
    \alpha_k = \frac{2^k - 1}{2^k}.
  \end{equation*}
  That is, $\{\alpha_k\}$ is the sequence
  $\frac12, \frac34, \frac78, \dots$. Now, for each positive integer
  $k$, define the set $A_k$ by
  \begin{equation*}
    A_k = \{\alpha_k\} \cup \left\{ \alpha_k + \frac1{2^{k+2}n}
      \;\middle|\; n = 1, 2, 3, \dots \right\}.
  \end{equation*}
  Now, consider the set
  \begin{equation*}
    K = \bigcup_{k=1}^\infty A_k.
  \end{equation*}
  We claim that $K$ is compact and has a countable set of limit
  points. First, note that $K$ is bounded, since $K\subset(0,1)$.

  Next we show that the set of limit points of $K$ is precisely the
  set
  \begin{equation*}
    \{\alpha_k \mid k = 1,2,\dots\}.
  \end{equation*}
  It is clear that $\alpha_k$ is a limit point for all positive
  integers $k$. Now suppose $\gamma$ is any other limit point of
  $K$. Let $(a,b)$ be a segment containing $\gamma$, and we may make
  this segment small enough so that it is contained entirely within
  the segment $(\alpha_i,\alpha_{i+1})$ for some positive integer
  $i$. But now this segment $(a,b)$ must contain only finitely many
  elements from $K$, since $\alpha_i + 1/(2^{i+2}n) < a$ for
  sufficiently large $n$. Label these elements $\beta_1,\dots,\beta_j$
  and set
  \begin{equation*}
    \delta = \min_{1\leq k\leq j}\frac{\abs{\gamma - \beta_k}}2.
  \end{equation*}
  Then consider the segment $S = (\gamma - \delta, \gamma +
  \delta)$. It is clear that $\gamma$ is the only member of $K$ within
  $S$.  But $\gamma$ is a limit point of $K$, so we can find
  $\alpha\in S$ such that $\gamma\neq\alpha$ and $\alpha\in K$. This
  is a contradiction, so $\alpha_1,\alpha_2,\dots$, are the only limit
  points of $K$.

  $K$ contains all of its limit points, so this shows that $K$ is
  closed and bounded and hence compact (since $K\subset R$), and its
  limit points are the countable set
  $\{\alpha_1,\alpha_2,\dots,\alpha_k,\dots\}$.
\end{solution}

\Exercise{14} Give an example of an open cover of the segment $(0,1)$
which has no finite subcover.
\begin{solution}
  For each positive integer $n$, set $A_n$ to be the segment
  \begin{equation*}
    A_n = \left(\frac1{n+2}, \; 1 - \frac1{n+2}\right).
  \end{equation*}
  Then the sequence $\{A_n\}$ is an open cover of $(0,1)$ with no
  finite subcover.
\end{solution}

\Exercise{15} Show that Theorem~2.36 and its Corollary become false
(in $R^1$, for example) if the word ``compact'' is replaced by
``closed'' or by ``bounded.''
\begin{thm}
  If $\{K_\alpha\}$ is a collection of compact subsets of a metric
  space $X$ such that the intersection of every finite subcollection
  of $\{K_\alpha\}$ is nonempty, then $\bigcap K_\alpha$ is nonempty.
\end{thm}
\begin{cor}
  If $\{K_n\}$ is a sequence of nonempty compact sets such that
  $K_n\supset K_{n+1}$ $(n = 1,2,3,\dots)$, then
  $\bigcap_1^\infty K_n$ is not empty.
\end{cor}
\begin{solution}
  We will consider counterexamples in $R^1$.

  First we look at closed sets. For each positive integer $n$, let
  \begin{equation*}
    K_n = \{x\in R\mid x\geq n\}.
  \end{equation*}
  Then $\{K_n\}$ is a collection of closed sets and every finite
  subcollection has a nonempty intersection. We also have
  $K_n\supset K_{n+1}$ for each $n$. However, for any $x\in R$ we need
  only choose $n > x$ so that $x\not\in K_n$. Therefore
  $\bigcap_{n=1}^\infty K_n$ is the empty set. So merely being closed
  is not a sufficient condition for the theorem or its corollary.

  Now we consider boundedness. For each positive integer $n$, set
  \begin{equation*}
    K_n = (0, 1/n).
  \end{equation*}
  Then $\{K_n\}$ is a collection of bounded sets, every finite
  subcollection has a nonempty intersection, and $K_n\supset K_{n+1}$
  for each $n$. Suppose $x\in\bigcap_{n=1}^\infty K_n$. Then
  $0 < x < 1/n$ for each integer $n$, which is impossible since $R$ is
  archimedean. Therefore $\bigcap_{n=1}^\infty K_n$ is the empty
  set. So boundedness is also not sufficient for the theorem or its
  corollary.
\end{solution}

\Exercise{16} Regard $Q$, the set of all rational numbers, as a metric
space, with $d(p,q) = \abs{p-q}$. Let $E$ be the set of all $p\in Q$
such that $2<p^2<3$. Show that $E$ is closed and bounded in $Q$, but
that $E$ is not compact. Is $E$ open in $Q$?
\begin{solution}
  For the moment, consider the metric space $R^1$. Taking $E$ as a
  subset of $R$, it is clear that $E$ is bounded. Moreover the set of
  limit points of $E$ is precisely the interval
  $[2^{1/2},3^{1/2}]$. Since $E$ is defined to be the set of rational
  numbers in this interval, it is clear that $E$ contains all of its
  rational limit points.

  Now consider $Q$ as the metric space (with the same metric,
  $d(p,q)=\abs{p-q}$). Since the metric is the same, $E$ is still a
  bounded set. And $E$ contains all of its limit points (since we are
  only considering rational numbers). This shows that $E$ is closed in
  $Q$.

  $E$ is closed and bounded in $Q$, but it is not compact. For
  example, for each positive integer $n$, let
  \begin{equation*}
    A_n = \left\{ x\in Q
      \;\middle|\;
      \text{$x^2 > 2 + \frac1{n+2}$
        and $x^2 < 3 - \frac1{n+2}$} \right\}.
  \end{equation*}
  Then it is easy to verify that $\{A_n\}$ is an open cover of $E$
  which has no finite subcover.

  Lastly, we note that $E$ is also open in $Q$, since every point
  $p\in E$ is an interior point. Indeed, if $p^2 > 2$ then we can find
  a $q\in Q$ with $2 < q^2 < p^2$ and similarly if $p^2 < 3$ then we
  can find an $r\in Q$ with $p^2 < r^2 < 3$. Then
  $p\in(q,r)\cap Q\subset E$ and we can find a neighborhood of $p$
  contained entirely within this segment.
\end{solution}

\Exercise{17} Let $E$ be the set of all $x\in[0,1]$ whose decimal
expansion contains only the digits $4$ and $7$. Is $E$ countable? Is
$E$ dense in $[0,1]$? Is $E$ compact? Is $E$ perfect?
\begin{solution}
  $E$ is not countable. For, if it is countable, let
  $f\colon Z^+\to E$ be a 1-1 correspondence. Then consider the real
  number $a\in[0,1]$ whose $n$th digit is a $4$ if the corresponding
  digit in $f(n)$ is a $7$, or a $7$ if the corresponding digit in
  $f(n)$ is a $4$. $a\in E$ but there is no positive integer $n$ such
  that $f(n)=a$, so this gives a contradiction.

  $E$ is not dense in $[0,1]$ since $E\subset[0.4,0.8]$, so $0.1$ (for
  example) is neither a member of $E$ nor a limit point of $E$.

  $E$ is compact, since it is a closed and bounded subset of the
  compact space $[0,1]$. To prove that $E$ is closed, we will show
  that its complement is open. So let $x\in E^c$. That is, $x\in[0,1]$
  is such that the decimal expansion of $x$ contains a digit other
  than $4$ and $7$. Suppose the $k$th digit of $x$ is not $4$ or $7$
  and let $\delta = 10^{-k-2}$. Then all of the numbers in the segment
  $(x - \delta, x + \delta)$ do not differ from $x$ in their first $k$
  digits, so that their $k$th digit is not $4$ or $7$. So the segment
  $(x - \delta, x + \delta)\subset E^c$, which shows that $x$ is an
  interior point of $E^c$. Therefore $E^c$ is open, so $E$ is closed.

  Lastly, we show that $E$ is perfect. We already know $E$ is closed,
  so it remains to be shown that every point in $E$ is a limit
  point. Let $x\in E$, and for $r > 0$ let $(x - r, x + r)$ be any
  neighborhood of $x$. Choose $k$ large enough so that $10^{-k} <
  r$. Let $y$ be the number formed by ``flipping'' the $(k+2)$th digit
  of $x$ (i.e., if the $(k+2)$th digit is a $4$ make it a $7$ and vice
  versa). Then $y\neq x$, $y\in E$, and $y\in(x-r,x+r)$, so this shows
  that $x$ is a limit point of $E$. Therefore every point in $E$ is a
  limit point and $E$ is perfect.
\end{solution}

% \Exercise{18} Is there a nonempty perfect set in $R^1$ which contains
% no rational number?
% \begin{solution}
%   Yes. Define $E_0$ to be the interval $[-2^{1/2},2^{1/2}]$. This
%   interval contains countably many rational numbers, so label them
%   $r_1, r_2, \dots, r_n, \dots$. Note that $E_0$ is a closed interval
%   with irrational endpoints.

%   Next, suppose that for $k \geq 0$, the set $E_k$ has been defined to
%   be a collection of closed intervals with irrational endpoints such
%   that $r_i\not\in E_k$ for $i\leq k$ and with each interval having
%   length at most $2^{3/2}/3^k$.
% \end{solution}

\Exercise{19}
\begin{enumerate}
\item If $A$ and $B$ are disjoint closed sets in some metric space
  $X$, prove that they are separated.
  \begin{proof}
    By Theorem~2.27, we have $A = \overline{A}$ and
    $B = \overline{B}$. So, since $A\cap B$ is empty, we have that
    $A\cap\overline{B} = \overline{A}\cap B = \emptyset$.
  \end{proof}
\item Prove the same for disjoint open sets.
  \begin{proof}
    Let $A$ and $B$ be disjoint open sets and suppose
    $A\cap\overline{B}$ is nonempty. Let $x\in A\cap\overline{B}$, so
    that $x$ is a limit point of $B$. Since $x\in A$ and $A$ is open,
    there is a neighborhood of $x$ contained entirely within $A$. But
    this neighborhood must contain points of $B$, since $x$ is a limit
    point of $B$. This shows that $A$ and $B$ are not disjoint, which
    gives a contradiction.
  \end{proof}
\item Fix $p\in X$, $\delta > 0$, define $A$ to be the set of all
  $q\in X$ for which $d(p,q) < \delta$, define $B$ similarly, with $>$
  in place of $<$. Prove that $A$ and $B$ are separated.
  \begin{proof}
    $A$ and $B$ are both disjoint open sets, so they must be separated
    by the previous part of the exercise.
  \end{proof}
\item Prove that every connected metric space with at least two points
  is uncountable.
  \begin{proof}
    Let $E$ be a connected metric space with at least two points, $p$
    and $q$. Let $s = d(p,q) > 0$. We will form a one-to-one
    correspondence $f\colon(0,s)\to A$ where $A\subset E$. This will
    show that $A$, and hence $E$, is uncountable.

    For each $\delta$ in the segment $(0,s)$, choose any point
    $r\in E$ such that $d(p,r) = \delta$ and then set $f(\delta) =
    r$. We know that the point $r$ must exist, for if not then we
    could divide $E$ into two subsets, those points $x$ with
    $d(p,x) < \delta$ and those $y$ with $d(p,y) > \delta$ so that, by
    the previous part of this exercise, $E$ is not connected.

    Therefore the function $f$ exists. And it gives a one-to-one
    correspondence since $d(p,r_1)\neq d(p,r_2)$ implies
    $r_1\neq r_2$. This completes the proof that $E$ is uncountable.
  \end{proof}
\end{enumerate}

\Exercise{20} Are closures and interiors of connected sets always
connected?
\begin{solution}
  Closures of connected sets are connected. For, if not, let $E$ be a
  connected set whose closure $\overline{E}$ is not connected. Then
  $\overline{E} = A\cup B$ where $A$ and $B$ are nonempty separated
  sets. Let $A^* = A\cap E$ and $B^* = B\cap E$.

  Since $A$ is nonempty, we may choose $x\in A$. Then
  $x\in\overline{E}$ so either $x\in E$ or $x$ is a limit point of
  $E$. If the latter, then any neighborhood of $x$ must contain a
  point $y$ in $E$. Moreover it must be possible to choose $y$ so that
  $y\in A$. If not, then $x$ is a limit point of $B$, so that
  $A\cap\overline{B}$ is nonempty, which is a contradiction. So $A$
  contains a point in $E$ and therefore $A^*$ is nonempty. By the same
  argument, $B^*$ is nonempty. And any $x\in E$ must belong to $A$ or
  $B$ and hence to $A^*$ or $B^*$, so that $E$ is the union of the two
  nonempty separated sets $A^*$ and $B^*$, which contradicts the fact
  that $E$ is connected. This shows that $\overline{E}$ must be
  connected.

  However, the interior of a connected set need not be
  connected. Consider the space $R^2$ and take
  \begin{equation*}
    E = \{ (x,y)\in R^2 \mid \sqrt{(x+1)^2 + y^2}\leq1 \}
    \cup
    \{ (x,y)\in R^2 \mid \sqrt{(x-1)^2 + y^2}\leq1 \}.
  \end{equation*}
  That is, $E$ is the union of the two closed disks of radius $1$
  centered at $(-1,0)$ and $(1,0)$, respectively. The interior of this
  set is the union of the corresponding open disks, and these open
  disks are separated since the point of tangency $(0,0)$ is not an
  interior point of $E$. Therefore the interior of $E$ is not
  connected.
\end{solution}

\Exercise{21} Let $A$ and $B$ be separated subsets of some $R^k$,
suppose $\vec{a}\in A$, $\vec{b}\in B$, and define
\begin{equation*}
  \vec{p}(t) = (1 - t)\vec{a} + t\vec{b}
\end{equation*}
for $t\in R^1$. Put $A_0 = \vec{p}^{-1}(A)$, $B_0 = \vec{p}^{-1}(B)$.
\begin{enumerate}
\item Prove that $A_0$ and $B_0$ are separated subsets of $R^1$.
  \begin{proof}
    First $A_0$ and $B_0$ must be disjoint. If not, let
    $x\in A_0\cap B_0$. Then $\vec{p}(x)\in A$ and $\vec{p}(x)\in B$
    so that $A\cap B$ is nonempty, which is a contradiction.

    Next, we must show that $A_0\cap\overline{B_0}$ is empty. Suppose
    $y\in A_0$ and $y\in\overline{B_0}$. Then $y$ is a limit point of
    $B_0$, so that any segment in $R^1$ containing $y$ must contain
    points of $B_0$. Now for some $r>0$, let $N_r(\vec{p}(y))$ be any
    neighborhood of $\vec{p}(y)$. Set
    \begin{equation*}
      \delta = \frac{r}{d(\vec{a},\vec{b})}.
    \end{equation*}
    Then the segment $(y - \delta, y + \delta)$ contains a point $z$
    in $B_0$. Then $\vec{p}(z)\in B$. But
    \begin{align*}
      d(\vec{p}(y), \vec{p}(z))
      &= \abs{\vec{p}(y) - \vec{p}(z)} \\
      &= \abs{(1 - y)\vec{a} + y\vec{b} - (1 - z)\vec{a} - z\vec{b}} \\
      &= \abs{(z - y)\vec{a} + (y - z)\vec{b}} \\
      &= \abs{y - z}\abs{\vec{b} - \vec{a}} \\
      &\leq \delta d(\vec{a},\vec{b}) = r.
    \end{align*}
    Thus $\vec{p}(z)\in N_r(\vec{p}(y))$. And this neighborhood was
    arbitrary, so that $\vec{p}(y)$ is a limit point of $B$. Therefore
    $A\cap\overline{B}$ is nonempty, which is a contradiction. This
    shows that $A_0$ and $\overline{B_0}$ are disjoint. By the same
    argument, $B_0$ and $\overline{A_0}$ are disjoint. This shows that
    $A_0$ and $B_0$ are separated sets.
  \end{proof}
\item Prove that there exists $t_0\in(0,1)$ such that
  $\vec{p}(t_0)\not\in A\cup B$.
  \begin{proof}
    $0\in A_0$ and $1\in B_0$. And we have shown that $A_0$ and $B_0$
    are separated. So by Theorem~2.47 there exists $t_0\in(0,1)$ such
    that $t_0\not\in A_0\cup B_0$. Then by definition
    $\vec{p}(t_0)\not\in A\cup B$.
  \end{proof}
\item Prove that every convex subset of $R^k$ is connected.
  \begin{proof}
    Suppose not, and let $E$ be a convex subset of $R^k$ that is not
    connected. $E$ can be written as the union of two nonempty
    separated sets $A$ and $B$. Choose $\vec{a}\in A$ and
    $\vec{b}\in B$. Define $\vec{p}\colon R\to R^k$ as above, with
    $A_0 = \vec{p}^{-1}(A)$ and $B_0 = \vec{p}^{-1}(B)$. By the
    previous results of this exercise, $A_0$ and $B_0$ must be
    separated and there exists $t_0\in(0,1)$ such that
    $\vec{p}(t_0)\not\in A\cup B$. But this contradicts the fact that
    $E$ is convex. Therefore, $E$ must be connected, so that every
    convex subset of $R^k$ is connected.
\end{proof}
\end{enumerate}

\Exercise{22} A metric space is called {\em separable} if it contains
a countable dense subset. Show that $R^k$ is separable.
\begin{proof}
  The set $Q^k$ consisting of points in $R^k$ having only rational
  coordinates is dense in $R^k$ (since $Q$ is dense in $R$). $Q^k$ is
  also countable, being the Cartesian product of countable
  sets. Therefore $R^k$ is separable.
\end{proof}

\Exercise{23} A collection $\{V_\alpha\}$ of open subsets of $X$ is
said to be a {\em base} for $X$ if the following is true: For every
$x\in X$ and every open set $G\subset X$ such that $x\in G$, we have
$x\in V_\alpha\subset G$ for some $\alpha$. In other words, every open
set in $X$ is the union of a subcollection of $\{V_\alpha\}$.

Prove that every separable metric space has a {\em countable} base.
\begin{proof}
  Let $X$ be a separable metric space. Then $X$ contains a countable
  dense subset $E$. For each $p\in E$ and for each rational number
  $s > 0$, let $V_{s,p}$ be the neighborhood $N_s(p)$ of radius $s$
  centered at $p$. Then $\{V_{s,p}\}$ is a countable collection of
  open subsets of $X$.

  Let $x\in X$ be arbitrary and let $G$ be any open subset of $X$
  containing $x$. Since $G$ is open, there is a neighborhood $N_r(x)$
  of $x$ with radius $r > 0$ contained entirely within $G$. Take the
  smaller neighborhood $N_{r/2}(x)$, and choose a point $x^*$ within
  this neighborhood such that $x^*\in E$ (this is possible since $E$
  is dense in $X$). Now, let
  \begin{equation*}
    \delta = d(x,x^*).
  \end{equation*}
  Choose any rational number $r^*$ in the segment
  $(\delta,2\delta)$. Then the neighborhood $V_{r^*,x^*}$ contains
  $x$. The neighborhood is also contained in $G$. So
  $x\in V_{r^*,x^*}\subset G$ for any open subset $G$ of $X$
  containing the point $x$. Therefore the collection $\{V_{s,p}\}$ of
  neighborhoods with rational radius and center in $E$ is a countable
  base for $X$.
\end{proof}
