\chapter{Continuity}

\Exercise1 Suppose $f$ is a real function defined on $R^1$ which
satisfies
\begin{equation}
  \label{eq:diff-f-x-plus-h-and-f-x-minus-h}
  \lim_{h\to0}[f(x+h)-f(x-h)]=0
\end{equation}
for every $x\in R^1$. Does this imply that $f$ is continuous?
\begin{solution}
  No. Consider the function $f\colon R^1\to R^1$ given by
  \begin{equation*}
    f(x) =
    \begin{cases}
      1, & \text{if $x$ is an integer}, \\
      0, & \text{otherwise}.
    \end{cases}
  \end{equation*}
  This function clearly has infinitely many discontinuities.

  Now fix a particular real number $x$. If $x$ is an integer, then for
  any $\varepsilon > 0$ we may let $\delta = 1/2$, so that for all $h$
  with $0<\abs{h}<\delta$ we have
  \begin{equation*}
    \abs{f(x + h) - f(x - h)} = \abs{0 - 0} = 0 < \varepsilon.
  \end{equation*}
  On the other hand, if $x$ is not an integer, then let $n$ be the
  integer nearest to $x$. For any $\varepsilon > 0$ take
  \begin{equation*}
    \delta = \frac{\abs{x - n}}2.
  \end{equation*}
  Again, for all $h$ with $0<\abs{h}<\delta$ we have
  \begin{equation*}
    \abs{f(x + h) - f(x - h)} = \abs{0 - 0} = 0 < \varepsilon.
  \end{equation*}

  We have shown that the function $f$ satisfies
  \eqref{eq:diff-f-x-plus-h-and-f-x-minus-h} for any $x$ in $R^1$, but
  $f$ is not continuous.
\end{solution}

\Exercise2
\label{exercise:continuity:f-of-closure-is-subset-of-closure-of-f}
If $f$ is a continuous mapping of a metric space $X$ into a metric
space $Y$, prove that
\begin{equation*}
  f(\overline{E}) \subset \overline{f(E)}
\end{equation*}
for every set $E\subset X$. ($\overline{E}$ denotes the closure of
$E$.) Show, by an example, that $f(\overline{E})$ can be a proper
subset of $\overline{f(E)}$.
\begin{proof}
  Suppose $p\in f(\overline{E})$. If $p\in f(E)$ then certainly
  $p\in\overline{f(E)}$ and we are done. So suppose that
  $p\not\in f(E)$. We want to show that $p$ must be a limit point of
  $f(E)$.

  By the choice of $p$ there must be $q\in\overline{E}$ such that
  $p = f(q)$. But if $p\not\in f(E)$ then $q\not\in E$. Therefore $q$
  is a limit point of $E$.

  Take any neighborhood $N$ of $p$ having radius $r>0$. Since $f$ is
  continuous, we may find $\delta>0$ so that for any $x\in X$,
  \begin{equation*}
    d(x,q) < \delta
    \quad\text{implies}\quad
    d(f(x),p)<r.
  \end{equation*}
  And $q$ is a limit point of $E$, so we can certainly find $x\in E$
  such that $d(x,q)<\delta$. Then $f(x)\in f(E)$ by definition, and we
  have $f(x)\neq p$ and $f(x)\in N$. Therefore $p$ is indeed a limit
  point of $f(E)$ and the main proof is complete.

  Finally, to see that $f(\overline{E})$ can be a proper subset of
  $\overline{f(E)}$, consider the continuous function $f\colon R\to R$
  given by
  \begin{equation*}
    f(x) = \frac2{x^2 + 1}.
  \end{equation*}
  If $E = (1,\infty)$ then $f(E) = (0,1)$ so that
  $\overline{f(E)} = [0,1]$. However $\overline{E} = [1,\infty)$ so
  $f(\overline{E}) = (0,1]$. Then
  $f(\overline{E})\subset\overline{f(E)}$ but equality does not hold.
\end{proof}

\Exercise3 Let $f$ be a continuous real function on a metric space
$X$. Let $Z(f)$ (the {\em zero set} of $f$) be the set of all $p\in X$
at which $f(p) = 0$. Prove that $Z(f)$ is closed.
\begin{proof}
  Since the set $\{0\}$ is closed in $R^1$ and $f$ is continuous, the
  corollary to Theorem~4.8 guarantees that $f^{-1}(\{0\})$ is closed
  in $X$. But $Z(f) = f^{-1}(\{0\})$ by definition, so $Z(f)$ is
  closed.
\end{proof}

\Exercise4
\label{exercise:continuity:continuous-map-on-dense-subset}
Let $f$ and $g$ be continuous mappings of a metric space $X$ into a
metric space $Y$, and let $E$ be a dense subset of $X$. Prove that
$f(E)$ is dense in $f(X)$. If $g(p) = f(p)$ for all $p\in E$, prove
that $g(p) = f(p)$ for all $p\in X$. (In other words, a continuous
mapping is determined by its values on a dense subset of its domain).
\begin{proof}
  Let $p\in f(X)$. Since $X = \overline{E}$, we have by
  Exercise~\ref{exercise:continuity:f-of-closure-is-subset-of-closure-of-f}
  that $p\in\overline{f(E)}$ so that $p$ is either in $f(E)$ or is a
  limit point of $f(E)$. Either way this shows that $f(E)$ is dense in
  $f(X)$.

  Next, suppose $g(p) = f(p)$ for all $p\in E$ and let $q\in X -
  E$. Since $E$ is dense in $X$, $q$ is a limit point of $E$. Let
  $\varepsilon>0$ be arbitrary. The continuity of $f$ allows us to
  then find $\delta_1>0$ such that, for $x\in X$,
  \begin{equation*}
    d(x,q) < \delta_1
    \quad\text{implies}\quad
    d(f(x),f(q)) < \frac\varepsilon2.
  \end{equation*}
  Similarly, the continuity of $g$ allows us to find $\delta_2>0$ such
  that
  \begin{equation*}
    d(x,q) < \delta_2
    \quad\text{implies}\quad
    d(g(x),g(q)) < \frac\varepsilon2.
  \end{equation*}
  Set $\delta = \min(\delta_1,\delta_2)$.

  Pick $r\in E$ such that $d(q,r) < \delta$ (this is possible since
  $q$ is a limit point of $E$). Since $g(r) = f(r)$, we then have
  \begin{align*}
    d(f(q),g(q)) &\leq d(f(q),f(r)) + d(f(r),g(q)) \\
                 &= d(f(q),f(r)) + d(g(r),g(q)) \\
                 &< \frac\varepsilon2 + \frac\varepsilon2
                   = \varepsilon.
  \end{align*}
  Since $\varepsilon$ was arbitrary, we must have $d(f(q),g(q)) = 0$
  so that $f(q) = g(q)$.
\end{proof}

\Exercise5 If $f$ is a real continuous function defined on a closed
set $E\subset R^1$, prove that there exist continuous real functions
$g$ on $R^1$ such that $g(x) = f(x)$ for all $x\in E$. (Such functions
$g$ are called {\em continuous extensions} of $f$ from $E$ to $R^1$.)
Show that the result becomes false if the word ``closed'' is
omitted. Extend the result to vector-valued functions.
\begin{proof}
  Since $E$ is closed, its complement $E^c$ is open. Since $E^c$ is an
  open set in $R^1$, we have by
  Exercise~\ref{exercise:basic-topology:open-sets-in-R1-union-of-segments}
  that it is the union of an at most countable collection of disjoint
  segments. Let the $n$th segment be $(a_n,b_n)$. Define the function
  $g\colon R^1\to R^1$ as follows.
  \begin{equation*}
    g(x) =
    \begin{cases}
      f(x) & \text{if $x\in E$}, \\
      \frac1{b_n - a_n}\big((b_n - x)f(a_n)
      + (x - a_n)f(b_n)\big) & \text{if $x\in(a_n,b_n)$}.
    \end{cases}
  \end{equation*}
  Note that we are assuming that each segment $(a_n,b_n)$ is
  bounded. If there is a segment of the form $(-\infty,b_n)$, then the
  proof will still work if we define $g(x)$ to be $f(b_n)$ for all $x$
  in this segment, and similarly for the segment $(a_n,\infty)$.

  Now, it is clear that $g$ is continuous on the interior of $E$ as
  well as on $E^c$. We need to show that $g$ is continuous at the
  points $a_n$ and $b_n$ for $n = 1,2,3,\dots$.

  Fix a positive integer $n$. It is clear from the continuity of $f$
  that
  \begin{equation*}
    g(a_n-) = f(a_n)
    \quad\text{and}\quad
    g(b_n+) = f(b_n).
  \end{equation*}
  Checking the limits on the inside, we find
  \begin{equation*}
    g(a_n+) = f(a_n) + 0f(b_n) = f(a_n),
  \end{equation*}
  and
  \begin{equation*}
    g(b_n-) = 0f(a_n) + f(b_n) = f(b_n).
  \end{equation*}
  So
  \begin{equation*}
    \lim_{t\to a_n}g(t) = f(a_n) = g(a_n)
    \quad\text{and}\quad
    \lim_{t\to b_n}g(t) = f(b_n) = g(b_n),
  \end{equation*}
  which shows that $g$ is continuous at $a_n$ and $b_n$. It now
  follows that $g$ is continuous on all of $R^1$.

  To see that this result is not necessarily true if $E$ is not
  closed, consider the function $f\colon E\to R^1$, where
  $E = R^1 - \{0\}$, given by
  \begin{equation*}
    f(x) = \frac1x.
  \end{equation*}
  Then there is no way to define a function $g$ so that $g(x) = f(x)$
  on $E$ with $g$ being continuous at $0$, since the left- and
  right-handed limits at $0$ are not affected by the value of $g(0)$.

  If $\vec{f}$ is vector-valued, then the same result (with
  essentially the same proof) holds if we define $g\colon R^1\to R^k$
  by
  \begin{equation*}
    \vec{g}(x) =
    \begin{cases}
      \vec{f}(x) & \text{if $x\in E$}, \\
      \frac1{b_n - a_n}\big((b_n - x)\vec{f}(a_n)
      + (x - a_n)\vec{f}(b_n)\big) & \text{if $x\in(a_n,b_n)$},
    \end{cases}
  \end{equation*}
  the only difference being that the values of $f$ and $g$ are in
  $R^k$ rather than $R^1$.
\end{proof}

\Exercise6 If $f$ is defined on $E$, the {\em graph} of $f$ is the set
of points $(x,f(x))$, for $x\in E$. In particular, if $E$ is a set of
real numbers, and $f$ is real-valued, the graph of $f$ is a subset of
the plane.

Suppose $E$ is compact, and prove that $f$ is continuous on $E$ if and
only if its graph is compact.
\begin{proof}
  Let $E\subset X$ and $f\colon E\to Y$, where $X$ and $Y$ are metric
  spaces. Let $G\subset X\times Y$ be the graph of $f$ and let
  $g\colon E\to X\times Y$ be given by $g(x) = (x,f(x))$, so that
  $g(E) = G$.

  Define the metric $d\colon(X\times Y)^2\to\R$ by
  \begin{equation*}
    d((x_1,y_1), (x_2,y_2)) = d_X(x_1,x_2) + d_Y(y_1,y_2).
  \end{equation*}
  It is easy to check that $d$ is indeed a metric, so that $X\times Y$
  becomes a metric space.

  First, suppose $f$ is continuous. We show that $g$ is then
  continuous also. Fix a point $x\in E$. For any $\varepsilon > 0$,
  let $\delta_0>0$ be such that $d_Y(f(p),f(x)) < \varepsilon/2$
  whenever $d_X(p,x) < \delta_0$. Now put
  \begin{equation*}
    \delta = \min\left\{\delta_0, \frac\varepsilon2\right\}.
  \end{equation*}
  Then $d_X(p,x) < \delta$ implies
  \begin{align*}
    d(g(p),g(x))
    &= d((p,f(p)), (x,f(x))) \\
    &= d_X(p,x) + d_Y(f(p),f(x)) \\
    &< \frac\varepsilon2 + \frac\varepsilon2 = \varepsilon.
  \end{align*}
  Therefore $g$ is continuous on $E$. The compactness of $G = g(E)$
  now follows from Theorem~4.14.

  Conversely, suppose $G$ is compact, and assume that $f$ is not
  continuous, say at a point $x\in E$. Set $\delta_n = 1/n$ for
  positive integers $n$. Since $f$ is not continuous at $x$, there is
  an $\varepsilon > 0$ such that for each $\delta_n$, we can pick an
  $x_n$ so that $d_X(x_n,x) < \delta_n$ and
  \begin{equation}
    \label{eq:continuity:d-f-greater-than-epsilon}
    d_Y(f(x_n),f(x))\geq\varepsilon.
  \end{equation}

  Since $G$ is compact, the sequence $\{(x_n,f(x_n))\}$ must have a
  subsequence $\{(x_{n_k},f(x_{n_k}))\}$ that converges to a point
  $(y, f(y))\in G$. Then $x_{n_k}\to y$. But $x_n\to x$, so all
  subsequences converge to $x$ also. Therefore $y = x$, and the
  subsequence $\{f(x_{n_k})\}$ converges to $f(x)$. But this is
  impossible since, by \eqref{eq:continuity:d-f-greater-than-epsilon},
  we know that $d_Y(f(x_{n_k}),f(x))\geq\varepsilon$. Therefore $f$
  must be continuous at $x$. And $x\in E$ was arbitrary, so $f$ is
  continuous on $E$ and the proof is complete.
\end{proof}

\Exercise7 If $E\subset X$ and if $f$ is a function defined on $X$,
the {\em restriction} of $f$ to $E$ is the function $g$ whose domain
of definition is $E$, such that $g(p) = f(p)$ for $p\in E$. Define $f$
and $g$ on $R^2$ by $f(0,0) = g(0,0) = 0$,
$f(x,y) = xy^2/(x^2 + y^4)$, $g(x,y) = xy^2/(x^2 + y^6)$ if
$(x,y)\neq(0,0)$. Prove that $f$ is bounded on $R^2$, that $g$ is
unbounded in every neighborhood of $(0,0)$, and that $f$ is not
continuous at $(0,0)$; nevertheless, the restrictions of both $f$ and
$g$ to every straight line in $R^2$ are continuous!
\begin{proof}
  For all $(x,y)\in R^2$, we have
  \begin{equation*}
    0\leq(\abs{x}-y^2)^2 = x^2 - 2\abs{x}y^2 + y^4,
  \end{equation*}
  which implies that $\abs{xy^2}\leq(x^2 + y^4)/2$. So, when $x$ and
  $y$ are not both zero,
  \begin{equation*}
    \abs{f(x,y)} = \frac{\abs{xy^2}}{x^2+y^4}
    \leq \frac12.
  \end{equation*}
  So $f$ is bounded on $R^2$.

  Next, note that if $(x,y)\in R^2$ is such that $x = y^3$ and
  $x,y\neq0$, then
  \begin{equation*}
    g(x,y) = \frac{y^3(y^2)}{(y^3)^2 + y^6}
    = \frac{y^5}{2y^6} = \frac1{2y}.
  \end{equation*}
  So, by choosing $y > 0$ small enough, we can always find a point
  $(y^3,y)$ in any neighborhood of $(0,0)$ such that $g(y^3,y)$ is
  arbitrarily large. This shows that $g$ is unbounded in every
  neighborhood of $(0,0)$.

  To show that $f$ is not continuous at $(0,0)$, note that in every
  neighborhood of $(0,0)$, we can find a point $(x,y)$ such that
  $x = y^2$, so that if $x$ and $y$ are not both zero,
  \begin{equation*}
    f(x,y) = \frac{y^2(y^2)}{(y^2)^2 + y^4} = \frac12.
  \end{equation*}
  Therefore, by choosing $\varepsilon < \frac12$, there is no
  neighborhood of $(0,0)$ such that
  $\abs{f(x,y) - f(0,0)} < \varepsilon$ for all $(x,y)$ in the
  neighborhood. This shows that $f$ is not continuous.

  Finally, we consider restrictions of $f$ and $g$ to straight
  lines. Certainly $f$ and $g$ are continuous everywhere except
  $(0,0)$. So we only need to consider restrictions to straight lines
  which pass through $(0,0)$. Such lines have the form $ax + by =
  0$. Fix any $a,b\in R$ and let $f^*$ and $g^*$ be the restrictions
  of $f$ and $g$, respectively, to the line $ax + by = 0$.

  If $b = 0$ then $x = 0$ for all $y$ and we have
  $f^*(0,y) = g^*(0,y) = 0$ for all $(x,y)$ on this line so both
  functions are continuous. On the other hand, if $b\neq0$, then
  $y = -(a/b)x$ and we get
  \begin{equation*}
    f^*(x,-ax/b)
    = \frac{(a^2/b^2)x^3}{x^2 + (a^4/b^4)x^4}
    = \frac{(ab)^2x}{b^4 + a^4x^2},
  \end{equation*}
  and, similarly,
  \begin{equation*}
    g^*(x,-ax/b)
    = \frac{(a^2/b^2)x^3}{x^2 + (a^6/b^6)x^6}
    = \frac{a^2b^4x}{b^6 + a^6x^4}.
  \end{equation*}
  Since the denominators of $f^*$ and $g^*$ are never zero, we
  conclude that both functions are continuous.
\end{proof}

\Exercise8 Let $f$ be a real uniformly continuous function on the
bounded set $E$ in $R^1$. Prove that $f$ is bounded on $E$.

Show that the conclusion is false if boundedness of $E$ is omitted
from the hypothesis.
\begin{proof}
  Let $E$ and $f$ be as stated. Since $E$ is bounded, it is contained
  within some bounded interval $[a,b]$. And since $f$ is uniformly
  continuous on $E$, we may choose $\delta > 0$ so that
  $\abs{f(x) - f(y)} < 1$ whenever $\abs{x - y} < \delta$, for all
  $x,y\in E$. Pick any positive integer $N$ larger than $(b-a)/\delta$
  and define the $N+1$ points $t_0,t_1,\dots,t_N$ by
  \begin{equation*}
    t_i = a + \frac{(b-a)i}N
    \quad\text{for $i = 0, 1, \dots, N$}.
  \end{equation*}
  For each $i$ with $1\leq i\leq N$, define the interval
  $J_i = [t_{i-1},t_i]$ and, if $J_i\cap E$ is nonempty, pick
  $x_i\in J_i\cap E$. Then let
  \begin{equation*}
    M = \max\limits_i\{\abs{f(x_i)}\} + 1.
  \end{equation*}

  Now, for any $x\in E$, $x$ belongs to some $J_i$, so
  \begin{equation*}
    \abs{x - x_i} \leq \frac{b-a}N < \delta,
  \end{equation*}
  which implies that $\abs{f(x) - f(x_i)} < 1$. Therefore
  $\abs{f(x)}\leq M$ and $f$ is bounded.

  Note that the boundedness of $E$ was necessary, since otherwise the
  identity function on $R^1$ would serve as a counterexample.
\end{proof}

\Exercise9
\label{exercise:continuity:diam-characterization-of-uniform}
Show that the requirement in the definition of uniform continuity can
be restated as follows, in terms of diameters of sets: To every
$\varepsilon > 0$ there exists a $\delta > 0$ such that
$\diam f(E) < \varepsilon$ for all $E\subset X$ with
$\diam E < \delta$.
\begin{proof}
  By definition, $\diam E < \delta$ if and only if $d(x,y) < \delta$
  for all $x,y\in E$, and $\diam f(E) < \varepsilon$ if and only if
  $d(f(x),f(y)) < \varepsilon$ for all $x,y\in E$.

  If $f\colon X\to Y$ is uniformly continuous, then for all
  $\varepsilon > 0$ there is $\delta > 0$ so that $d(x,y) < \delta$
  implies $d(f(x),f(y)) < \varepsilon$. If $E\subset X$ is any subset
  such that $\diam E < \delta$, then $d(x,y) < \delta$ for all
  $x,y\in E$ so $d(f(x),f(y)) < \varepsilon$ which shows that
  $\diam f(E) < \varepsilon$.

  Conversely, suppose $f$ is such that to every $\varepsilon > 0$
  there is $\delta > 0$ so that $\diam E < \delta$ implies
  $\diam f(E) < \varepsilon$. Given any $\varepsilon > 0$, choose such
  a $\delta > 0$. For any $x,y\in X$ with $d(x,y) < \delta$, define
  $E = \{x,y\}$ so that $\diam E < \delta$. Then
  $\diam f(E) < \varepsilon$ which means $d(f(x),f(y)) < \varepsilon$
  as required.
\end{proof}

\Exercise{10} Complete the details of the following alternative proof
of Theorem~4.19: If $f$ is not uniformly continuous, then for some
$\varepsilon > 0$ there are sequences $\{p_n\}$, $\{q_n\}$ in $X$ such
that $d_X(p_n,q_n) \to 0$ but $d_Y(f(p_n), f(q_n)) > \varepsilon$. Use
Theorem~2.37 to obtain a contradiction.
\begin{thm}[4.19]
  Let $f$ be a continuous mapping of a compact metric space $X$ into a
  metric space $Y$. Then $f$ is uniformly continuous on $X$.
\end{thm}
\begin{proof}
  Put $\delta_n = 1/n$. If $f$ is not uniformly continuous, then for
  some $\varepsilon > 0$ there are points $p_n$ and $q_n$ with
  $d_X(p_n,q_n) < \delta_n$ but $d_Y(f(p_n),f(q_n))\geq\varepsilon$
  for all $n$. Then $\{p_n\}$ and $\{q_n\}$ are sequences in
  $X$. Since $X$ is compact, there is some subsequence $\{p_{n_k}\}$
  and some subsequence $\{q_{n_k}\}$ such that $p_{n_k}\to p$ and
  $q_{n_k}\to q$ for some $p,q\in X$.

  Since $d_X(p_n,q_n)\to 0$, we must have $p = q$. Since $f$ is
  continuous, we also have $f(p_{n_k}) \to f(p)$ and
  $f(q_{n_k}) \to f(q)$. Choose $\delta_1$ so that
  $d(f(p_{n_k}),f(p)) < \varepsilon/2$ for all $k \geq N_1$ and choose
  $\delta_2$ so that $d(f(q_{n_k}),f(q)) < \varepsilon/2$ for all
  $k \geq N_2$. Then for all $k\geq\max\{N_1,N_2\}$, we have
  \begin{equation*}
    d(f(p_{n_k}), f(q_{n_k}))
    \leq d(f(p_{n_k}), f(p)) + d(f(p), f(q_{n_k}))
    < \frac\varepsilon2 + \frac\varepsilon2 = \varepsilon.
  \end{equation*}
  This contradicts our earlier assertion. Therefore $f$ must be
  uniformly continuous on $X$.
\end{proof}

\Exercise{11} Suppose $f$ is a uniformly continuous mapping of a
metric space $X$ into a metric space $Y$ and prove that $\{f(x_n)\}$
is a Cauchy sequence in $Y$ for every Cauchy sequence $\{x_n\}$ in
$X$. Use this result to give an alternative proof of the theorem
stated in Exercise~13.
\begin{proof}
  Fix any $\varepsilon > 0$ and let $\{x_n\}$ be a Cauchy sequence in
  $X$. Since $f$ is uniformly continuous, there is a $\delta > 0$ such
  that
  \begin{equation}
    \label{eq:continuity:f-unif-cont}
    d(f(x),f(y)) < \varepsilon
    \quad\text{whenever}\quad
    d(x,y) < \delta.
  \end{equation}
  Since $\{x_n\}$ is Cauchy, we can find a positive integer $N$ such
  that $d(x_m,x_n) < \delta$ whenever $m,n\geq N$. Then, by
  \eqref{eq:continuity:f-unif-cont}, we have
  $d(f(x_m),f(x_n)) < \varepsilon$ for all $m,n\geq N$, and we see
  that the sequence $\{f(x_n)\}$ is Cauchy in $Y$.

  Now, let $E$ be a dense subset of $X$ and suppose $f\colon E\to R^1$
  is uniformly continuous. We want to show that $f$ has a continuous
  extension from $E$ to $X$. Pick any point $p\in X$. Then either
  $p\in E$ or $p$ is a limit point of $E$. If the former, define
  $g(p) = f(p)$.

  If $p$ is a limit point, then there is a sequence $\{p_n\}$ in $E$
  that converges to $p$. Since every convergent sequence in a metric
  space is Cauchy, $\{p_n\}$ is a Cauchy sequence, so our previous
  result guarantees that $\{f(p_n)\}$ is also Cauchy, and hence
  converges to a point $q$ in $R^1$. Define $g(p) = q$ in this
  case. It is then easy to check that $g$ is a continuous function
  from $X$ to $R^1$.
\end{proof}

\Exercise{12} A uniformly continuous function of a uniformly
continuous function is uniformly continuous.

State this more precisely and prove it.
\begin{solution}
  Let $X,Y,Z$ be metric spaces, let $f\colon X\to Y$ and
  $g\colon f(X)\to Z$ be uniformly continuous functions. Then the
  composite function $g\circ f$ is uniformly continuous.

  To prove this, let $\varepsilon > 0$. By the uniform continuity of
  $g$, there is $\eta > 0$ such that $d(g(p),g(q)) < \varepsilon$
  whenever $d(p,q) < \eta$, for any $p,q\in f(X)$. Also, by the
  uniform continuity of $f$, we can find $\delta > 0$ such that
  $d(f(s),f(t)) < \eta$ for any $s,t\in X$ such that
  $d(s,t) < \delta$.

  Combining these two results, we have the following: given any
  $x,y\in X$ with $d(x,y) < \delta$, we have
  \begin{equation*}
    d(g(f(x)), g(f(y))) < \varepsilon.
  \end{equation*}
  Therefore $g\circ f$ is uniformly continuous.
\end{solution}

\Exercise{13} Let $E$ be a dense subset of a metric space $X$, and let
$f$ be a uniformly continuous {\em real} function defined on
$E$. Prove that $f$ has a continuous extension from $E$ to
$X$. (Uniqueness follows from
Exercise~\ref{exercise:continuity:continuous-map-on-dense-subset}.)

Could the range space $R^1$ be replaced by $R^k$? By any compact
metric space? By any complete metric space? By any metric space?
\begin{solution}
  Let $f\colon E\to R$ be uniformly continuous, where $E$ is dense in
  $X$. For each point $p$ of $X$ and each positive integer $n$, define
  $V_n(p)$ to be the set of all $q\in E$ with $d(p,q) < 1/n$.

  Since $f$ is uniformly continuous and since $\diam V_n(p)\to 0$, we
  know by
  Exercise~\ref{exercise:continuity:diam-characterization-of-uniform}
  that $\diam f(V_n(p))\to 0$ also. Let $\overline{f(V_n(p))}$ denote
  the closure of $f(V_n(p))$. By Theorem~3.10 (a), we know that
  $\diam\overline{f(V_n(p))}\to 0$.

  Now, if $p$ is a limit point of $E$, then there is a $q_n\in V_n(p)$
  with $q_n\neq p$, so that $f(q_n)\in\overline{f(V_n(p))}$ for each
  $n$. Then $\{f(q_n)\}$ is a Cauchy sequence in $R^1$ and hence must
  converge to a (unique) point $q$ (since $R^1$ is complete). Let
  $g(p) = q$.

  On the other hand, if $p$ is not a limit point of $E$, then $p\in E$
  (since $E$ is dense), so we may simply let $g(p) = f(p)$ in this
  case.

  To complete the proof, we must show that $g$ is continuous. Let
  $\varepsilon > 0$. For any $p,q\in X$, we can (by our construction
  above) find $p',q'\in E$ so that
  \begin{equation*}
    d_X(f(p'),g(p)) < 1/n \quad\text{and}\quad d_X(f(q'),g(q)) < 1/n.
  \end{equation*}
  And by the uniform continuity of $f$, we may choose $\kappa > 0$ so
  that
  \begin{equation*}
    d_Y(f(p'),f(q')) < \varepsilon - 2/n
    \quad\text{whenever $d_X(p',q') < \kappa$}.
  \end{equation*}
  Choose a positive integer $n$ large enough so that $2/n < \kappa$
  and put $\delta = \kappa - 2/n$. Now for any $p,q\in X$ with
  $d(p,q) < \delta$, we can find $p',q'\in E$ as above so that
  \begin{align*}
    d_X(p',q') &\leq d_X(p',p) + d_X(p,q) + d_X(q,q') \\
               &< \frac1n + \delta + \frac1n
               = \kappa.
  \end{align*}
  Then
  \begin{align*}
    d_Y(g(p),g(q))
    &\leq d_Y(g(p),f(p')) + d_Y(f(p'), f(q')) + d_Y(f(q'), g(q)) \\
    &< \frac1n + \left(\varepsilon - \frac2n\right) + \frac1n
    = \varepsilon,
  \end{align*}
  so $g$ is uniformly continuous on $X$, and is an extension of $f$.

  The same result, with essentially the same proof, would hold in any
  complete metric space. This includes $R^k$ as well as any compact
  metric space. Completeness is necessary, however. Let $X$ be any
  metric space that is not complete (for a concrete example, we could
  take the rationals $Q$). Take the identity function $f\colon X\to X$
  given by $f(p) = p$. $f$ is certainly uniformly continuous. If $X^*$
  is the completion of $X$ (see
  Exercise~\ref{exercise:sequences:completion}), then there is no
  continuous extension of $f$ from $X$ to $X^*$ (having the same
  codomain of $X$). For, if there is such an extension, let it be
  $g\colon X^*\to X$. Now let $h\colon X^*\to X^*$ be the identity
  function on $X^*$. Then $h$ is also a continuous extension of $f$,
  but with a codomain of $X^*$ instead of $X$. So we have found two
  different continuous extensions of $f$ to $X^*$, and this
  contradicts what we know from
  Exercise~\ref{exercise:continuity:continuous-map-on-dense-subset}.
\end{solution}
